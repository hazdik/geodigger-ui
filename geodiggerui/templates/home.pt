<div metal:use-macro="view.layout">
    <div metal:fill-slot="content">
        <div tal:condition="error">
            <div class="row alert alert-danger">${error}</div>
        </div>
        <form action="/" method="POST">
            <!-- Feature: saved filters
            <label>Load saved filter</label>
            <select class="form-control" id="filter" name="filter"/>
            <div tal:repeat="filter savedfilters">
                <option value="${filter}">${filter}
            </div>
            </select>
            -->
            
            <!-- Map placeholder -->
            <div class="row form-group">
                <h3>
                    <small>
                        <span class="glyphicon glyphicon-globe"></span>
                    </small> Location
                </h3>
                <div style='width:780px; height:600px; background:lightgrey;'></div>
            </div>

            <!-- Date/time parameters -->
            <div class="row form-group">
                <h3>
                    <small>
                        <span class="glyphicon glyphicon-calendar"></span>
                    </small> Time Period
                </h3>

                <div id="slider"></div>
                <script src="${request.static_url('geodiggerui:static/jquery-ui.min.js')}"></script>
                <script src="${request.static_url('geodiggerui:static/jquery.mousewheel.min.js')}">
                </script>
                <script src="${request.static_url('geodiggerui:static/jQRangeSliderMouseTouch.js')}">
                </script>
                <script src="${request.static_url('geodiggerui:static/jQRangeSliderDraggable.js')}">
                </script>
                <script src="${request.static_url('geodiggerui:static/jQRangeSliderBar.js')}"></script>
                <script src="${request.static_url('geodiggerui:static/jQRangeSliderHandle.js')}"></script>
                <script src="${request.static_url('geodiggerui:static/jQRangeSliderLabel.js')}"></script>
                <script src="${request.static_url('geodiggerui:static/jQRangeSlider.js')}"></script>
                <script src="${request.static_url('geodiggerui:static/jQDateRangeSliderHandle.js')}">
                </script>
                <script src="${request.static_url('geodiggerui:static/jQDateRangeSlider.js')}"></script>
                <script src="${request.static_url('geodiggerui:static/jQRuler.js')}"></script>
                <script>
                    var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
                    $(function(){
                            $("#slider").dateRangeSlider(${sliderOptions});
                    });//]]> 
                </script>

                <div class="row"><br></div>

                <div class="col-md-6">
                    <label class="row control-label">Include</label>
                    <div class="row checkbox">
                        <label>
                            <input type="checkbox" name="weekdays"
                                   value="weekdays" checked> Weekdays
                        </label>
                    </div>
                    <div class="row checkbox">
                        <label>
                            <input type="checkbox" name="weekends"
                                   value="weekends" checked> Weekends
                        </label>
                    </div>
                </div>

                <div class="col-md-6">
                    <label class="row control-label">Period currently selected</label>
                    <p class="row form-control-static">XX weeks</p>
                </div>
            </div>

            <!-- Source -->
            <div class="row form-group">
                <h3>
                    <small>
                        <span class="glyphicon glyphicon-cloud"></span>
                    </small> Source
                </h3>
                <div tal:repeat="source sources">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" checked> ${source}
                        </label>
                    </div>
                </div>
            </div>

            <!-- Users -->
            <div class="row form-group">
                <h3>
                    <small>
                        <span class="glyphicon glyphicon-user"></span>
                    </small> Users
                </h3>
                <input type="text" class="form-control" id="users"
                       name="users" placeholder="Default: All users">
            </div>

            <!-- Download type -->
            <div class="row form-group">
                <h3>
                    <small>
                        <span class="glyphicon glyphicon-file"></span>
                    </small> Download type
                </h3>
                <div class="radio">
                    <label>
                        <input type="radio" name="downloadtype"
                               id="downloadtype1" value="CSV" checked> CSV
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" name="downloadtype"
                               id="downloadtype2" value="JSON"> JSON
                    </label>
                </div>
            </div>

            <!-- Spacer -->
            <div class="row">
                <br><br>
            </div>

            <!-- Buttons -->
            <div class="row form-group">
                <button class="btn btn-primary" type="submit"
                        name="submit">Run Query
                </button>
                <!-- Feature: saved filters
                <button class="btn" type="save" name="save">
                    <span class="glyphicon glyphicon-floppy-disk"></span>
                    Save Filter
                </button>
                -->
            </div>
        </form>
    </div>
</div>
